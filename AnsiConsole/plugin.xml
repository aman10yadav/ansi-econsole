<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

<extension point="org.eclipse.ui.preferencePages">
	<page name="Ansi Console" class="mnita.ansiconsole.preferences.AnsiConsolePreferencePage" id="mnita.ansiconsole.preferences.AnsiConsolePreferencePage" />
</extension>

<extension point="org.eclipse.core.runtime.preferences">
	<initializer class="mnita.ansiconsole.preferences.AnsiConsolePreferenceInitializer" />
</extension>

<extension point="org.eclipse.ui.console.consolePageParticipants">
	<consolePageParticipant class="mnita.ansiconsole.participants.AnsiConsolePageParticipant" id="mnita.ansiconsole.participants.AnsiConsolePageParticipant">
		<enablement>
			<instanceof value="org.eclipse.ui.console.IConsole" />
		</enablement>
	</consolePageParticipant>
</extension>

<extension
		point="org.eclipse.ui.commands">
	<category
			 id="AnsiConsole.command.categoryid"
			 name="Ansi Console Commands">
	</category>
	<command
			categoryId="AnsiConsole.command.categoryid"
			defaultHandler="mnita.ansiconsole.commands.EnableDisableHandler"
			description="Enable/disable Ansi Console"
			id="AnsiConsole.command.enable_disable"
			name="Enable / disable Ansi Console">
	</command>
	<command
			categoryId="AnsiConsole.command.categoryid"
			defaultHandler="mnita.ansiconsole.commands.CopyWithEscapesHandler"
			description="Copy the console content to clipboard, including the escape sequences"
			id="AnsiConsole.command.copy_with_escapes"
			name="Copy text with escapes">
	</command>
</extension>

<extension
		point="org.eclipse.ui.menus">
	<menuContribution
			allPopups="false"
			locationURI="toolbar:org.eclipse.ui.console.ConsoleView">
		<command
				commandId="AnsiConsole.command.enable_disable"
				disabledIcon="icons/ansiconsole_dis.gif"
				hoverIcon="icons/ansiconsole.gif"
				icon="icons/ansiconsole.gif"
				style="toggle">
		</command>
		<command
				commandId="AnsiConsole.command.copy_with_escapes"
				icon="icons/ansiconsolecopy.gif"
				style="push">
		</command>
	</menuContribution>
</extension>

</plugin>
